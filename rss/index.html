<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Google Summer of Code 2014]]></title><description><![CDATA[Creating a REST API for humans]]></description><link>http://127.0.0.1:2368/</link><generator>Ghost v0.4.2</generator><lastBuildDate>Sat, 17 May 2014 14:34:20 GMT</lastBuildDate><atom:link href="http://127.0.0.1:2368/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Discussions on the ATutor API - Community Bonding Period]]></title><description><![CDATA[<p>It's been four weeks since the <a href='http://www.google-melange.com/gsoc/projects/list/google/gsoc2014' >GSoC 2014 results</a> were declared. I was selected by Inclusive Design Institute for developing a public API for their project, ATutor. I had worked with them last year in the GSoC too and my last year mentor, <a href='https://twitter.com/twitanvk' >Alexey Novak</a>, was going to mentor me yet again.</p>

<p>Four weeks of community bonding time is a long time and I have utilized this time in discussing the future strategies with my mentor. We had quite a few things to decide because we wanted a good API at the end of the summer. For reference, we took the examples of <a href='https://developer.github.com/v3/' >GitHub</a> and <a href='http://amara.readthedocs.org/en/latest/api.html' >Amara</a> APIs.</p>

<h2 id="creatingamodule">Creating a module</h2>

<p>We decided that although we would separate the API code from the rest of the ATutor code, we wanted to let the admin have the choice of whether to enable the API. The best way to do it within ATutor was to <a href='http://127.0.0.1:2368/www.atutor.ca/development/documentation/modules.html' >create a module</a> (BTW, I really dislike reading documentation). If the module was not activated and someone was trying to access the API, we would just show them a message that the feature is disabled.</p>

<h2 id="choosingawebrouterclass">Choosing a web router class</h2>

<p>ATutor is written in core PHP. True that there are a lot of functions within ATutor that do most of the heavy lifting, but it still remains in core PHP. Up until now, there was no need to develop a routing class. However, an API would need a router (unless you plan to create separate directories and pages for each function).</p>

<p>We narrowed down certain options, but finally decided to go with <a href='http://toroweb.org/' >Toro</a>. Although people call it a 'micro framework', the source just consists of a file with 120 odd lines. It was just perfect to add to ATutor. Toro is also designed specifically for creating a REST framework. To top it all, the 'Hello World' function is so simple, yet elegant.</p>

<pre><code>&lt;?php

class MainHandler {  
    function get() {
        echo "Hello, world";
    }
}

Toro::serve(array(  
    "/" =&gt; "MainHandler",
));
</code></pre>

<p>An important thing to note is that Toro does the routing, but the structure of the app is largely dependent on the developer. Having worked with Django so much, I decided to go with the flow. I split the core API into individual apps, each with their own <code>urls.php</code> and <code>router_classes.php</code>, which contains the routes and the handlers, respectively. Have a look at it <a href='https://github.com/sdaityari/ATutor/tree/toro/api' >here</a>.</p>

<h2 id="makingthelist">Making the list</h2>

<p>Lastly, there remained one uphill task before I could start coding (<em>Yeah, I hadn't started already!</em>) I had to create a list of possible API calls that I would implement, with details of what parameters would be passed on with each request and what would be returned. The user access levels were to be decided later, once we moved on to implementing the user authentication. I have come up with a preliminary list of <code>GET</code>, <code>POST</code>, <code>PUT</code> and <code>DELETE</code> calls, and I can start coding (<em>finally</em>) once it is verified by my mentor.</p>

<p>The official coding begins in two more days, and it's going to be real fun, much like <a href='http://dada.theblogbowl.in/search/label/google%20summer%20of%20code' >last year</a>. Looking forward to crafting some mean looking code.</p>]]></description><link>http://127.0.0.1:2368/discussions-on-the-atutor-api/</link><guid isPermaLink="false">912bf063-4325-4d70-a902-8df7a5fde791</guid><category><![CDATA[atutor]]></category><category><![CDATA[api]]></category><category><![CDATA[module]]></category><category><![CDATA[router]]></category><category><![CDATA[toro]]></category><dc:creator><![CDATA[Shaumik Daityari]]></dc:creator><pubDate>Sat, 17 May 2014 12:24:22 GMT</pubDate></item></channel></rss>